\documentclass[a4paper,tikz]{article}

\usepackage[frenchb]{babel}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorinlistoftodos]{todonotes}
\usepackage{a4wide}
\usepackage{enumitem}

\usepackage[usenames,dvipsnames]{xcolor}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{steelblue}{rgb}{0.16,0.37,0.58}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{blue}{rgb}{0,0,0.7}
\definecolor{hlColor}{rgb}{0.94,0.94,0.94}
\definecolor{shadecolor}{rgb}{0.96,0.96,0.96}
\definecolor{TFFrameColor}{rgb}{0.96,0.96,0.96}
\definecolor{TFTitleColor}{rgb}{0.00,0.00,0.00}
\definecolor{lightred}{rgb}{1,0.96,0.96}
\definecolor{darkred}{rgb}{0.85,0.33,0.31}
\definecolor{lightblue}{HTML}{EBF5FA}
\definecolor{lightblue2}{HTML}{E3F2FA}
\definecolor{darkblue}{HTML}{D2DCE1}
\definecolor{lightyellow}{HTML}{FFFAE6}
\definecolor{darkyellow}{HTML}{FAE6BE}

\usepackage{listings}
\lstset{
	language=C,
	basicstyle=\scriptsize,
	numbers=left,                   % where to put the line-numbers
  	numberstyle=\tiny\color{gray},
	commentstyle=\color{steelblue},
	stringstyle=\color{BrickRed},
	backgroundcolor=\color{shadecolor},
    keywordstyle=\color{OliveGreen},
	frame=single,                   % adds a frame around the code
 	rulecolor=\color{black},
	emph={},
	emphstyle=\color{mauve},
	morekeywords=[2]{},
	keywordstyle=[2]{\color{dkgreen}},
	showstringspaces=false,
  	tabsize=4,
	moredelim=[is][\small\ttfamily]{/!}{!/},
	breaklines=true
}

\usepackage{hyperref}
\hypersetup{
	colorlinks=true, % false: boxed links; true: colored links
	linkcolor=black, % color of internal links
	urlcolor=blue,   % color of external links
	citecolor=blue
}
\newcommand{\hhref}[1]{\href{#1}{#1}}

\usepackage{makecell}

\usepackage{eurosym} %\euro -> €

\title{INF5101A - TP1}

\date{\today}

\begin{document}
\maketitle
\newpage
\tableofcontents
\newpage

\section{Chargement en parallèle de la matrice}

\lstinputlisting[firstline=13, lastline=48]{../gaussp.c}

\lstinputlisting[firstline=50, lastline=59]{../gaussp.c}
\newpage

\section{Gauss parallèle}

\lstinputlisting[firstline=120, lastline=157]{../gaussp.c}
\newpage

\section{Sauvegarde en parallèle de la matrice}

\lstinputlisting[firstline=73, lastline=107]{../gaussp.c}

\lstinputlisting[firstline=61, lastline=71]{../gaussp.c}
\newpage

\section{Relevés}

\begin{figure}[h!]
	\centering
	\caption{Computation time}
	\begin{tabular}{|l|l|l|l|l|}
		\hline
		\diaghead{taille matriceeee}{Taille matrice}{Nb. tâches} & 1 & 4 & 10 & 20 \\ \hline
		500 & 0.111 s & 1.140 s & 1.390 s & 1.265 s \\ \hline
		1000 & 0.855 s & 4.169 s & 4.240 s & 4.308 s \\ \hline
		5000 & 112.046 s & 126.909 s & 100.502 s & 97.863 s \\ \hline
		10000 & 856.741 s & 640.369 s & 467.9 s & 400 s \\ \hline
	\end{tabular}
\end{figure}

\begin{figure}[h!]
	\centering
	\caption{Speedup}
	\begin{tabular}{|l|l|l|l|l|}
		\hline
		\diaghead{taille matriceeee}{Taille matrice}{Nb. tâches} & 1 & 4 & 10 & 20 \\ \hline
		500 && 0.097368421 & 0.079856115 & 0.087747036 \\ \hline
		1000 && 0.205085152 & 0.201650943 & 0.198467967 \\ \hline
		5000 && 0.882884587 & 1.114863386 & 1.144927092 \\ \hline
		10000 && 1.337886437 & 1.831034409 & 2.1418525 \\ \hline
	\end{tabular}
\end{figure}

\begin{figure}[h!]
	\centering
	\caption{Efficacité}
	\begin{tabular}{|l|l|l|l|l|}
		\hline
		\diaghead{taille matriceeee}{Taille matrice}{Nb. tâches} & 1 & 4 & 10 & 20 \\ \hline
		500 && 0.024342105 & 0.007985612 & 0.004387352 \\ \hline
		1000 && 0.051271288 & 0.020165094 & 0.009923398 \\ \hline
		5000 && 0.220721147 & 0.111486339 & 0.057246355 \\ \hline
		10000 && 0.334471609 & 0.183103441 & 0.107092625 \\ \hline
	\end{tabular}
\end{figure}
\newpage

\section{Listing complet}

\lstinputlisting{../gaussp.c}

\end{document}
